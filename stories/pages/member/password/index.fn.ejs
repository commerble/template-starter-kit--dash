<%
    const {
        serverError,
    } = locals;
%>
<%- include('gnav') %>
<main class="section content">
    <h2 class="h-underline">パスワード変更</h2>
    <% if (serverError) { %>
        <%- include('alert', { color: 'error' }) %>
    <% } %>
    <form action="@PasswordChangeUrl()" method="post">
        <dl class="field required">
            <dt class="field-title">現パスワード</dt>
            <dd class="field-body">
                <div class="field-group">
                    <input type="password"
                        name="OldPassword"
                        autocomplete = "off"
                        data-val = "true"
                        data-val-required = "パスワードは必須項目です。"
                        data-val-regex = "パスワードには英数字8文字以上必要です。"
                        data-val-regex-pattern="^(?=.*?[a-zA-Z!&quot;#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},&lt;\.&gt;/\?_])(?=.*?\d)[a-zA-Z\d!&quot;#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},&lt;\.&gt;/\?_]{8,64}$"
                    >
                    <button class="btn" ic-action="togglePasswordMask" data-show="🙊 SHOW" data-hide="🙈 HIDE">🙊 SHOW</button>
                </div>
                <p class="field-error" data-valmsg-for="OldPassword" data-valmsg-replace="true"></p>
            </dd>
        </dl>
        <dl class="field required">
            <dt class="field-title">パスワード</dt>
            <dd class="field-body">
                <div class="field-group">
                    <input type="password"
                        name="Password"
                        autocomplete = "off"
                        data-val = "true"
                        data-val-required = "パスワードは必須項目です。"
                        data-val-regex = "パスワードには英数字8文字以上必要です。"
                        data-val-regex-pattern="^(?=.*?[a-zA-Z!&quot;#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},&lt;\.&gt;/\?_])(?=.*?\d)[a-zA-Z\d!&quot;#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},&lt;\.&gt;/\?_]{8,64}$"
                    >
                    <button type="button" class="btn" ic-action="togglePasswordMask" data-show="🙊 SHOW" data-hide="🙈 HIDE">🙊 SHOW</button>
                </div>
                <p class="field-error" data-valmsg-for="Password" data-valmsg-replace="true"></p>
                <p class="field-note">半角英数字8～64文字で設定してください。記号もご使用いただけます。</p>
            </dd>
        </dl>
        <dl class="field required">
            <dt class="field-title">パスワード再入力</dt>
            <dd class="field-body">
                <div class="field-group">
                    <input type="password"
                        name="ConfirmPassword"
                        autocomplete="off"
                        data-val="true"
                        data-val-required="パスワード再入力は必須項目です。"
                        data-val-equalto="再入力された値がパスワードと異なります。"
                        data-val-equalto-other="Password"
                    >
                    <button type="button" class="btn" ic-action="togglePasswordMask" data-show="🙊 SHOW" data-hide="🙈 HIDE">🙊 SHOW</button>
                </div>
                <p class="field-error" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></p>
            </dd>
        </dl>
        <div class="block block-vertical">
            <!-- <button type="submit" class="btn btn-action btn-large" name="update" value="post">パスワードを再設定</button> -->
            <a href="./?path=/story/pages-member-index--complete" class="btn btn-action btn-large">パスワードを再設定</a>
            <a href="./?path=/story/pages-member-index--index" class="btn btn-primary btn-text btn-prev">マイページへ戻る</a>
        </div>
    </form>
</main>
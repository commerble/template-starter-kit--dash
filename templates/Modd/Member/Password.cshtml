@{
  var viewData = Page.ViewData[BasicController.ViewMessageKey] as ViewMessages;

  ViewBag.MetaTitle = "パスワード変更";
}

<main class="section content">
    <h2 class="h-underline">パスワード変更</h2>
    @DisplayViewMessages(viewData)
    <form action="@PasswordChangeUrl()" method="post">
        @Page.Html.SessionAntiForgeryToken()
        <dl class="field required">
            <dt class="field-title">現パスワード</dt>
            <dd class="field-body">
                <div class="field-group">
                    @Page.Html.TextBox("OldPassword", null, new {
                        type = "password",
                        autocomplete = "off",
                        data_val = "true",
                        data_val_required = "パスワードは必須項目です。",
                        data_val_regex = "パスワードには英数字8文字以上必要です。",
                        data_val_regex_pattern = @"^(?=.*?[a-zA-Z!""#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},<\.>/\?_])(?=.*?\d)[a-zA-Z\d!""#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},<\.>/\?_]{8,64}$"
                    })
                    <button class="btn" ic-action="togglePasswordMask" data-show="🙊 SHOW" data-hide="🙈 HIDE">🙊 SHOW</button>
                </div>
                @ValidationMessageFor("OldPassword")
            </dd>
        </dl>
        <dl class="field required">
            <dt class="field-title">新パスワード</dt>
            <dd class="field-body">
                <div class="field-group">
                    @Page.Html.TextBox("Password", null, new {
                        type = "password",
                        autocomplete = "off",
                        data_val = "true",
                        data_val_required = "新パスワードは必須項目です。",
                        data_val_regex = "新パスワードには英数字8文字以上必要です。",
                        data_val_regex_pattern = @"^(?=.*?[a-zA-Z!""#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},<\.>/\?_])(?=.*?\d)[a-zA-Z\d!""#$%&'\(\)\-=^~\\\|@`\[\{;\+:\*\]\},<\.>/\?_]{8,64}$"
                    })
                    <button class="btn" ic-action="togglePasswordMask" data-show="🙊 SHOW" data-hide="🙈 HIDE">🙊 SHOW</button>
                </div>
                @ValidationMessageFor("Password")
                <p class="field-note">半角英数字8～64文字で設定してください。記号もご使用いただけます。</p>
            </dd>
        </dl>
        <dl class="field required">
            <dt class="field-title">新パスワード再入力</dt>
            <dd class="field-body">
                <div class="field-group">
                    @Page.Html.TextBox("ConfirmPassword", null, new {
                        type = "password",
                        autocomplete = "off",
                        data_val = "true",
                        data_val_required = "新パスワード再入力は必須項目です。",
                        data_val_equalto = "再入力された値が新パスワードと異なります。",
                        data_val_equalto_other = "Password"
                    })
                    <button class="btn" ic-action="togglePasswordMask" data-show="🙊 SHOW" data-hide="🙈 HIDE">🙊 SHOW</button>
                </div>
                @ValidationMessageFor("ConfirmPassword")
            </dd>
        </dl>
        <div class="block block-vertical">
            <button type="submit" class="btn btn-action btn-large" name="update" value="post">パスワードを再設定</button>
            <a href="@MyPageUrl()" class="btn btn-primary btn-text btn-prev">マイページへ戻る</a>
        </div>
    </form>
</main>
